# D&D CharMaker

Приложение помогает составить своего персонажа для партий Dungeons & Dragons 5 редакции на основе справочников по созданию персонажа на сайте ```DnD.su```. Сайт хостится, можно зайти по адресу 
```bash
http://138.124.92.42:5000/
```

## Технологии

- Язык программирования: Python 3.11
- Библиотеки:
  - `Flask` для разработки веб-интерфейса;
  - `Selenium` для парсинга HTML;
  - `sqlite3` для работы с базой данных;
  - `requests` для работы с HTTP-запросами.
- База данных: SQLite
- Docker: Для развёртывания приложения в контейнерах.

# Запуск
Для запуска используется команда
```bash
docker compose up
```
или 
```bash
./build.sh
``` 
в этой директории, также для запуска необходимо наличие ПО для разворачивания Docker'а (к примеру, Docker Desktop). Зайти на сайт можно по адресу ```http://127.0.0.1:5000/```, если контейнер запущен локально на том же компьютере или по адресу сервера, на котором запущен этот контейнер.

# Эксплуатация сайта
На странице сайта отображен Чар-лист (Далее - 'Чарник', Лист с информацией о персонаже) с параметрами, которые может заполнить самостоятельно (к примеру: Мировоззрение, показатели силы, ловкости и т.д.) или же которые может выбрать, исходя из представленных с сайта `DnD.su` (к примеру: Раса, класс, заклинания и т.д.)
В нижней левой части сайта находятся кнопка для сохранения вашего Чарника ("Сохранить Чарник") в базу данных по Имени персонажа и Имени пользователя. 
После сохранения в любое время можно загрузить вашего персонажа (Кнопка "Загрузить Чарник по имени игрока и персонажа"), для этого надо будет ввести Имя игрока и персонажа в соответствующие строки ввода под этой кнопкой.
Также, если пользователь захочет чего-то разнообразного, то на такой случай существует кнопка "Создать случайного персонажа", которая произвольно заполняет всю информацию о вашем персонаже.

# Парсер
Для парсинга сайта `DnD.su` используется библиотека `selenium`, так как некоторые элементы (такие как заклинания) подгружаются на сайт динамически.
Пройдясь по всем необходимым страницам сайта `DnD.su` информация со справочников обновляется и далее используется в `front.py`.

# База Данных
`SQLite3`, указана в `Docker-compose.yaml`. Используется volume для соединения папки с базой данных внутри контейнера и на компьютере, для того, чтобы данные сохранялись при пересборке контейнера.

# Сайт
По запросу по адресу `/` Flask передает главную страницу с Чарником. Кнопка "Загрузить чарник" переходит по адресу `/loaded`, где демонстрируется страница с загруженным персонажем, который пользователь сохранил до этого.